pipeline{
    agent any
    environment{
        namma_ooru ="dindigul"
    }

    stages{
        stage('build only'){
            steps{
                echo "proceed to build"
            }
        }

        stage('entha ooru stage'){

            when{

                allOf {
                    expression {BRANCH_NAME ==~ /(production|staging)/}
                    environment name: 'namma_ooru' , value :"dindigul"
                }
                
            }

            steps{
                echo "thambi entha ooru"
            }
        }
    }
}

