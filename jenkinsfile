pipeline{
    agent any
    stages{

        stage('build'){
            steps{
                echo " building the application"
            }
        }

        stage('deploy to prod'){

            when {

                //this stage will trigger if the branch is production /stage
                expression{ BRANCH_NAME ==~ /(production|staging)/}
            }

            steps{

                echo " deploying to prod"
            }
        }
    }
}
